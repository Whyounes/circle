!function(){"use strict";var a=window.Circle=function(a){a.id&&a.values&&Array.isArray(a.values)&&(this._id=a.id,this._elem=document.getElementById(this._id),this._elem&&(this._stroke=a.width||10,this._radius=a.radius||70,this._text=a.text||"",this._values=a.values,this._canvasSize=2*this._radius+2*this._stroke,this._x=this._canvasSize/2,this.canvasHTML="<canvas id='"+this._id+"_canvas' width='"+this._canvasSize+"' height='"+this._canvasSize+"'></canvas>",this.textHTML="<span style='position:absolute; top:0;bottom:0;left:0;right:0; text-align:center; font-size:"+.6*this._radius+"px; line-height:"+this._canvasSize+"px;'>"+this._text+"</span>",this.create()))};a.prototype={isCanvasSupported:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},verifyValues:function(){var a,b=0;for(a in this._values)b+=this._values[a].percent;100>b&&this._values.push({percent:100-b,color:"#FFF"})},drawCircle:function(){this._canvas=document.getElementById(this._id+"_canvas"),this._context=this._canvas.getContext("2d");var a,b=0,c=0;for(a in this._values)c=this._percentToAngle(this._values[a].percent),this.drawArc(this._values[a],b,c),b+=c},drawArc:function(a,b,c){c+=b,this._context.beginPath(),this._context.arc(this._x,this._x,this._radius,b,c),this._context.strokeStyle=a.color,this._context.lineWidth=this._stroke,this._context.stroke(),this._context.closePath()},wrap:function(a){return"<div style='position:relative; display:inline-block;'>"+a+"</div>"},generateHTML:function(){var a="";a+=this.wrap(this.canvasHTML+this.textHTML),this._elem.innerHTML=a},_percentToAngle:function(a){return a/100*360*Math.PI/180},create:function(){this.verifyValues(),this.generateHTML(),this.drawCircle()}}}();